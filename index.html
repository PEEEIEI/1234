<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡∏õ‡∏∏‡πà‡∏°‡∏´‡∏ô‡∏µ + ‡πÄ‡∏û‡∏•‡∏á‡πÑ‡∏ó‡∏¢ + ‡πÅ‡∏ä‡∏ó‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß</title>
<style>
  body { 
    margin:0; padding:0; font-family:"Segoe UI",sans-serif; height:100vh;
    background: linear-gradient(135deg,#fff0f5,#ffe6e6); overflow:hidden; text-align:center;
  }
  h1 { color:#ff4da6; text-shadow:2px 2px 5px rgba(255,100,200,0.4); margin-top:20px; font-size:24px; }
  #btn {
    padding:20px 40px; font-size:20px; cursor:pointer; position:absolute; top:50%; left:50%;
    transform:translate(-50%,-50%); border:none; border-radius:50px;
    background:#ff66b2; color:#fff; box-shadow:0 8px 20px rgba(255,100,200,0.6);
    transition:left 0.5s ease, top 0.5s ease, transform 0.3s, box-shadow 0.2s;
    z-index: 1000;
  }
  #btn:hover { transform:translate(-50%,-50%) scale(1.1); box-shadow:0 12px 25px rgba(255,100,200,0.8); }

  #giveup, #listen, #openChat {
    position: fixed; bottom:20px; padding:12px 24px; font-size:16px; border:none;
    border-radius:30px; color:#fff; cursor:pointer; z-index: 900;
  }
  #giveup { right:20px; background:#ff3385; box-shadow:0 6px 15px rgba(255,0,128,0.5); }
  #listen { left:20px; background:#66ccff; box-shadow:0 6px 15px rgba(0,100,200,0.5); }
  #openChat { left:50%; transform:translateX(-50%); background:#ff99cc; box-shadow:0 6px 15px rgba(255,0,128,0.3); }
  #listen:hover,#openChat:hover { opacity:0.9; }

  #message { font-size:22px; font-weight:bold; color:#ff0066; margin-top:10px; text-shadow:2px 2px 10px rgba(255,0,128,0.4); }
  #counter { position:fixed; top:10px; left:10px; font-size:16px; color:#333; }

  iframe { position:fixed; top:-200px; left:-200px; width:0; height:0; }

  #chatbox {
    position:fixed; bottom:80px; right:10px; width:280px; height:350px;
    background:#fff; border-radius:15px; box-shadow:0 6px 15px rgba(0,0,0,0.2);
    display:flex; flex-direction:column; overflow:hidden; display:none; z-index:800;
  }
  #chat-messages { flex:1; padding:8px; overflow-y:auto; font-size:14px; text-align:left; }
  .msg { background:#ffe6f2; padding:6px 10px; margin:4px 0; border-radius:10px; max-width:80%; }
  #chat-input { display:flex; border-top:1px solid #ddd; }
  #chat-input input { flex:1; padding:8px; border:none; outline:none; }
  #chat-input button { padding:8px 12px; border:none; background:#ff66b2; color:#fff; cursor:pointer; }
  #chat-input button:hover { background:#ff3385; }

  @media(max-width:600px){
    h1{font-size:18px;}
    #btn{padding:15px 25px;font-size:16px;}
    #chatbox{width:90%;height:250px;right:5%;bottom:100px;}
    #giveup,#listen,#openChat{font-size:14px;padding:10px 20px;}
    #counter{font-size:14px;}
  }
</style>
</head>
<body>

<h1>‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏ô‡∏µ‡πâ‡∏™‡∏¥ üòè</h1>
<button id="btn">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏•‡∏¢!</button>
<button id="giveup">‡∏Å‡∏î‡∏¢‡∏≠‡∏°‡πÅ‡∏û‡πâ</button>
<button id="listen">‡∏ü‡∏±‡∏á‡πÅ‡∏Å‡πâ‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î üéµ</button>
<button id="openChat">‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏ä‡∏ó üí¨</button>

<div id="message"></div>
<div id="counter">‡∏Å‡∏î‡πÑ‡∏°‡πà‡πÇ‡∏î‡∏ô: 0 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á</div>
<iframe id="musicPlayer" frameborder="0" allow="autoplay"></iframe>

<div id="chatbox">
  <div id="chat-messages"></div>
  <div id="chat-input">
    <input type="text" id="msgText" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°...">
    <button id="sendBtn">‡∏™‡πà‡∏á</button>
  </div>
</div>

<script>
const btn = document.getElementById("btn");
const giveupBtn = document.getElementById("giveup");
const listenBtn = document.getElementById("listen");
const openChatBtn = document.getElementById("openChat");
const message = document.getElementById("message");
const counter = document.getElementById("counter");
const musicPlayer = document.getElementById("musicPlayer");
const chatbox = document.getElementById("chatbox");

let missCount = 0;

function moveButton(){
  const btnWidth=btn.offsetWidth;
  const btnHeight=btn.offsetHeight;
  const elements=[chatbox.getBoundingClientRect(),giveupBtn.getBoundingClientRect(),
                  listenBtn.getBoundingClientRect(),openChatBtn.getBoundingClientRect()];

  // 1% ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏Å‡∏î‡∏ï‡∏¥‡∏î
  if(Math.random()<0.01) return;

  let x,y,attempts=0;
  do{
    x=Math.random()*(window.innerWidth-btnWidth);
    y=Math.random()*(window.innerHeight-btnHeight);
    attempts++;
  } while(elements.some(el=> x+btnWidth>el.left && x<el.right && y+btnHeight>el.top && y<el.bottom) && attempts<100);

  btn.style.left=x+"px";
  btn.style.top=y+"px";

  missCount++;
  counter.textContent="‡∏Å‡∏î‡πÑ‡∏°‡πà‡πÇ‡∏î‡∏ô: "+missCount+" ‡∏Ñ‡∏£‡∏±‡πâ‡∏á";
}

// Desktop hover
btn.addEventListener("mouseover",moveButton);
// Mobile touch
btn.addEventListener("touchstart",(e)=>{moveButton();e.preventDefault();},{passive:false});
btn.addEventListener("touchmove",(e)=>{moveButton();e.preventDefault();},{passive:false});

giveupBtn.addEventListener("click",()=>{message.textContent="‡∏¢‡∏≠‡∏°‡πÅ‡∏û‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô üòè";});
btn.addEventListener("click",()=>{alert("‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡∏Å‡πá‡∏Å‡∏î‡πÑ‡∏î‡πâ‡πÄ‡∏ô‡∏≠‡∏∞ ü§£");});

listenBtn.addEventListener("click",()=>{
  musicPlayer.src="https://www.youtube.com/embed/qngCJf9V6g8?autoplay=1&loop=1&playlist=qngCJf9V6g8";
  alert("‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏û‡∏•‡∏á‡πÅ‡∏Å‡πâ‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏∞ üé∂");
});

// ‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î ‡πÅ‡∏ä‡∏ó
openChatBtn.addEventListener("click",()=>{
  chatbox.style.display = (chatbox.style.display==="flex")?"none":"flex";
});

const chatMessages=document.getElementById("chat-messages");
const msgText=document.getElementById("msgText");
const sendBtn=document.getElementById("sendBtn");

function addMessage(text){
  if(text.trim()==="") return;
  const msg=document.createElement("div");
  msg.className="msg";
  msg.textContent=text;
  chatMessages.appendChild(msg);
  chatMessages.scrollTop=chatMessages.scrollHeight;
}

sendBtn.addEventListener("click",()=>{addMessage(msgText.value);msgText.value="";});
msgText.addEventListener("keypress",(e)=>{if(e.key==="Enter"){addMessage(msgText.value);msgText.value="";}});
</script>

</body>
</html>
